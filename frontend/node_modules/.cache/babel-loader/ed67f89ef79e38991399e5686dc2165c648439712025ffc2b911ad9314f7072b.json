{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mateus\\\\Desktop\\\\Programas\\\\Desafio\\\\frontend\\\\src\\\\components\\\\Guarda\\\\GuardaList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport api from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GuardaList = () => {\n  _s();\n  const [guardas, setGuardas] = useState([]);\n  const [message, setMessage] = useState('');\n  const fetchGuardas = async () => {\n    try {\n      const response = await api.get('/guardas');\n      setGuardas(response.data);\n    } catch (error) {\n      console.error(\"Erro ao buscar guardas:\", error);\n    }\n  };\n  useEffect(() => {\n    fetchGuardas();\n  }, []);\n  const handleDelete = async id => {\n    try {\n      await api.delete(`/guardas/${id}`);\n      setMessage('Guarda removido com sucesso.');\n      fetchGuardas();\n    } catch (error) {\n      setMessage('Erro ao remover guarda.');\n      console.error(\"Erro:\", error);\n    }\n  };\n  const handleUpdate = async (id, currentData) => {\n    // Solicita novos dados para atualizar o guarda\n    const novoNome = window.prompt(\"Digite o novo nome completo:\", currentData.nome_completo);\n    if (!novoNome || novoNome.trim() === '') return;\n    const novaMatricula = window.prompt(\"Digite a nova matrícula:\", currentData.matricula);\n    if (!novaMatricula || novaMatricula.trim() === '') return;\n    const novaNumeracaoPorte = window.prompt(\"Digite a nova numeração do porte:\", currentData.numeracao_porte);\n    if (!novaNumeracaoPorte || novaNumeracaoPorte.trim() === '') return;\n    const novaEquipe = window.prompt(\"Digite a nova equipe:\", currentData.equipe);\n    if (!novaEquipe || novaEquipe.trim() === '') return;\n    try {\n      await api.put(`/guardas/${id}`, {\n        guarda: {\n          nome_completo: novoNome,\n          matricula: novaMatricula,\n          numeracao_porte: novaNumeracaoPorte,\n          equipe: novaEquipe\n        }\n      });\n      setMessage('Guarda atualizado com sucesso.');\n      fetchGuardas();\n    } catch (error) {\n      setMessage('Erro ao atualizar guarda.');\n      console.error(\"Erro:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Lista de Guardas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: guardas.map(guarda => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [guarda.nome_completo, \" - Matr\\xEDcula: \", guarda.matricula, \" - Porte: \", guarda.numeracao_porte, \" - Equipe: \", guarda.equipe, /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            marginLeft: '10px'\n          },\n          onClick: () => handleUpdate(guarda.id, guarda),\n          children: \"Atualizar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            marginLeft: '10px'\n          },\n          onClick: () => handleDelete(guarda.id),\n          children: \"Deletar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, guarda.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(GuardaList, \"ff+U/PA2Z0Qpj2QJZktmCLAmIeI=\");\n_c = GuardaList;\nexport default GuardaList;\nvar _c;\n$RefreshReg$(_c, \"GuardaList\");","map":{"version":3,"names":["React","useEffect","useState","api","jsxDEV","_jsxDEV","GuardaList","_s","guardas","setGuardas","message","setMessage","fetchGuardas","response","get","data","error","console","handleDelete","id","delete","handleUpdate","currentData","novoNome","window","prompt","nome_completo","trim","novaMatricula","matricula","novaNumeracaoPorte","numeracao_porte","novaEquipe","equipe","put","guarda","children","fileName","_jsxFileName","lineNumber","columnNumber","map","style","marginLeft","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Mateus/Desktop/Programas/Desafio/frontend/src/components/Guarda/GuardaList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../../services/api';\r\n\r\nconst GuardaList = () => {\r\n  const [guardas, setGuardas] = useState([]);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const fetchGuardas = async () => {\r\n    try {\r\n      const response = await api.get('/guardas');\r\n      setGuardas(response.data);\r\n    } catch (error) {\r\n      console.error(\"Erro ao buscar guardas:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchGuardas();\r\n  }, []);\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await api.delete(`/guardas/${id}`);\r\n      setMessage('Guarda removido com sucesso.');\r\n      fetchGuardas();\r\n    } catch (error) {\r\n      setMessage('Erro ao remover guarda.');\r\n      console.error(\"Erro:\", error);\r\n    }\r\n  };\r\n\r\n  const handleUpdate = async (id, currentData) => {\r\n    // Solicita novos dados para atualizar o guarda\r\n    const novoNome = window.prompt(\"Digite o novo nome completo:\", currentData.nome_completo);\r\n    if (!novoNome || novoNome.trim() === '') return;\r\n\r\n    const novaMatricula = window.prompt(\"Digite a nova matrícula:\", currentData.matricula);\r\n    if (!novaMatricula || novaMatricula.trim() === '') return;\r\n\r\n    const novaNumeracaoPorte = window.prompt(\"Digite a nova numeração do porte:\", currentData.numeracao_porte);\r\n    if (!novaNumeracaoPorte || novaNumeracaoPorte.trim() === '') return;\r\n\r\n    const novaEquipe = window.prompt(\"Digite a nova equipe:\", currentData.equipe);\r\n    if (!novaEquipe || novaEquipe.trim() === '') return;\r\n\r\n    try {\r\n      await api.put(`/guardas/${id}`, { guarda: { nome_completo: novoNome, matricula: novaMatricula, numeracao_porte: novaNumeracaoPorte, equipe: novaEquipe } });\r\n      setMessage('Guarda atualizado com sucesso.');\r\n      fetchGuardas();\r\n    } catch (error) {\r\n      setMessage('Erro ao atualizar guarda.');\r\n      console.error(\"Erro:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Lista de Guardas</h2>\r\n      {message && <p>{message}</p>}\r\n      <ul>\r\n        {guardas.map(guarda => (\r\n          <li key={guarda.id}>\r\n            {guarda.nome_completo} - Matrícula: {guarda.matricula} - Porte: {guarda.numeracao_porte} - Equipe: {guarda.equipe}\r\n            <button \r\n              style={{ marginLeft: '10px' }}\r\n              onClick={() => handleUpdate(guarda.id, guarda)}\r\n            >\r\n              Atualizar\r\n            </button>\r\n            <button \r\n              style={{ marginLeft: '10px' }}\r\n              onClick={() => handleDelete(guarda.id)}\r\n            >\r\n              Deletar\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GuardaList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}